diff -urN tiff-4.0.1.orig/libtiff/tif_jpeg.c tiff-4.0.1/libtiff/tif_jpeg.c
--- tiff-4.0.1.orig/libtiff/tif_jpeg.c	2012-03-29 01:03:15.680848289 +0800
+++ tiff-4.0.1/libtiff/tif_jpeg.c	2012-03-29 01:09:09.212428534 +0800
@@ -1175,6 +1175,7 @@
 	if (downsampled_output) {
 		/* Need to use raw-data interface to libjpeg */
 		sp->cinfo.d.raw_data_out = TRUE;
+		sp->cinfo.d.do_fancy_upsampling = FALSE;
 		tif->tif_decoderow = DecodeRowError;
 		tif->tif_decodestrip = JPEGDecodeRaw;
 		tif->tif_decodetile = JPEGDecodeRaw;
